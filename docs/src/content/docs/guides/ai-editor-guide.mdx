---
title: "AIエディタ向けガイド"
description: "AIエディタがesa-cliコマンドを適切に選択・実行するためのガイド"
---

import { Aside } from '@astrojs/starlight/components';

このガイドは、AIエディタがesa-cliのコマンドを適切に選択・実行するための情報をまとめています。

## タスクベースのコマンド選択

### 記事を取得したい

**目的**: esa.ioから記事の内容を取得する

| シナリオ | 推奨コマンド | オプション |
|---------|------------|----------|
| ファイルに保存して編集したい | `fetch <記事番号>` | なし |
| 標準出力に表示したい（AIエディタで参照） | `fetch <記事番号> --print` | `-p, --print` |
| カテゴリの最新記事を取得したい | `fetch --category <カテゴリ> --latest` | `-c, -l` |
| タグの最新記事を取得したい | `fetch --tag <タグ> --latest` | `-t, -l` |
| 検索ワードの最新記事を取得したい | `fetch --query <検索ワード> --latest` | `-q, -l` |
| 複数記事を一括取得したい | `fetch-all --category <カテゴリ>` | 各種フィルタオプション |

<Aside type="tip" title="AIエディタでの使用">
`fetch --print`オプションを使用すると、ファイルを作成せずに記事内容を標準出力で取得できます。AIエディタが記事内容を参照して次のアクションを決定する際に便利です。
</Aside>

### 記事を作成したい

**目的**: 新しい記事をesa.ioに作成する

| シナリオ | 推奨コマンド | オプション |
|---------|------------|----------|
| すぐにesa.ioにアップロードしたい | `create "タイトル"` | `-c, -g, -w, -m` |
| ローカルで下書きしてからアップロードしたい | `create "タイトル" --template` | `-T, --template` |
| 既存のMarkdownファイルから作成したい | `create --file <ファイル名>` | `-f, --file` |
| カテゴリ・タグを指定して作成したい | `create "タイトル" -c <カテゴリ> -g <タグ>` | `-c, -g` |

<Aside type="tip" title="テンプレートモード">
`create --template`オプションを使用すると、esa.ioにアップロードせずにローカルにフロントマター付きのテンプレートファイルを生成できます。ローカルで下書きしてから、編集後に`create -f`でアップロードできます。
</Aside>

### 記事を更新したい

**目的**: 既存の記事を更新する

| シナリオ | 推奨コマンド | オプション |
|---------|------------|----------|
| ローカルファイルから更新したい | `update <ファイル名>` | なし |
| WIP状態を解除したい | `update <ファイル名> --no-wip` | `-n, --no-wip` |
| カテゴリを変更したい | `update <ファイル名> --category <カテゴリ>` | `-c, --category` |
| タグを追加したい | `update <ファイル名> --add-tags <タグ>` | `-a, --add-tags` |
| タグを削除したい | `update <ファイル名> --remove-tags <タグ>` | `-r, --remove-tags` |
| 更新メッセージを付けて更新したい | `update <ファイル名> --message <メッセージ>` | `-m, --message` |

### 記事を検索・一覧表示したい

**目的**: 記事を検索して一覧を表示する

| シナリオ | 推奨コマンド | オプション |
|---------|------------|----------|
| 最新記事を表示したい | `list` | なし（デフォルト10件） |
| 表示件数を指定したい | `list <件数>` | 件数を引数で指定 |
| カテゴリで絞り込みたい | `list --category <カテゴリ>` | `-c, --category` |
| タグで絞り込みたい | `list --tag <タグ>` | `-t, --tag` |
| 検索ワードで絞り込みたい | `list --query <検索ワード>` | `-q, --query` |
| 作成者で絞り込みたい | `list --user <ユーザー名>` | `-u, --user` |

### 記事を整理したい

**目的**: 記事のカテゴリを一括移動する

| シナリオ | 推奨コマンド | オプション |
|---------|------------|----------|
| カテゴリを一括移動したい | `move --category <移動元> --to <移動先>` | `-c, -o, -u, -t, -q` |
| 確認なしで移動したい | `move ... --force` | `-f, --force` |

## コマンド選択フローチャート

### 記事取得の判断フロー

```
記事を取得したい
├─ ファイルに保存して編集したい → fetch <記事番号>
└─ 標準出力に表示したい（AIエディタで参照）
   └─ fetch <記事番号> --print
```

### 記事作成の判断フロー

```
記事を作成したい
├─ すぐにesa.ioにアップロードしたい → create "タイトル"
└─ ローカルで下書きしてからアップロードしたい
   └─ create "タイトル" --template
      その後、編集してから
      └─ create -f <テンプレートファイル>
```

## よくあるユースケース

### ユースケース1: AIエディタで記事内容を参照して編集提案

```bash
# 1. 記事内容を標準出力で取得
esa-cli fetch 123 --print

# 2. AIエディタが内容を分析して編集提案
# （記事内容を参照して、改善案を提案）

# 3. 必要に応じてファイルに保存して編集
esa-cli fetch 123
# エディタで編集
esa-cli update 123-article-title.md
```

### ユースケース2: ローカルで下書きしてからアップロード

```bash
# 1. テンプレートファイルを生成
esa-cli create "新しい記事" -c "開発/ドキュメント" -g "API,ドキュメント" --template

# 2. ローカルで編集
# draft-新しい記事.md を編集

# 3. esa.ioにアップロード
esa-cli create -f draft-新しい記事.md
```

### ユースケース3: 記事を検索して内容を確認

```bash
# 1. 記事を検索
esa-cli list --query "認証" --tag "API"

# 2. 記事番号を取得して内容を確認（標準出力）
esa-cli fetch <記事番号> --print

# 3. 必要に応じてファイルに保存
esa-cli fetch <記事番号>
```

## エラー時の対処

### よくあるエラーと対処法

| エラー | 原因 | 対処法 |
|-------|------|--------|
| `❌ 設定が完了していません` | 初期設定が未完了 | `esa-cli setup` を実行 |
| `❌ 記事番号を指定してください` | 記事番号が未指定 | `list`コマンドで記事番号を確認 |
| `❌ ファイル名を指定してください` | ファイル名が未指定 | ファイル名を引数で指定 |
| `⚠️ 警告: リモートの記事は...` | リモートが更新済み | `fetch`で最新状態を取得してから再更新 |

## オプションの優先順位

### 複数オプションの組み合わせ

- **フィルタリングオプション**: `-c, -t, -q, -u`は組み合わせ可能
- **動作オプション**: `-l, -p, -T`などは目的に応じて選択
- **メタデータオプション**: `-w, -m`などは任意で追加可能

## パフォーマンス考慮事項

- **listコマンド**: カテゴリ指定時は最大500件まで自動取得（時間がかかる場合あり）
- **moveコマンド**: 最大100件まで処理（1ページ）
- **fetch-allコマンド**: 最大2000件まで取得可能（20ページ）

詳細なコマンド仕様は[コマンドリファレンス](/esa-cli/commands)を参照してください。

