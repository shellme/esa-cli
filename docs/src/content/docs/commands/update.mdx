---
title: "記事更新"
description: "esa.ioの記事を更新するコマンド"
---

esa.ioの記事を更新します。ローカルのMarkdownファイルを編集した後、このコマンドを使用して記事を更新できます。

## 仕様

### コマンド形式

```bash
esa-cli update <file_path>
```

### パラメータ

- `file_path` - 更新するMarkdownファイルのパス（必須）

### オプション

- `-message` - 更新メッセージ（変更履歴に表示）
- `-wip` - WIPとして更新（true/false）

### ファイル名の規則

更新対象のファイル名は以下の形式である必要があります：

```
<article_number>-<article-title>.md
```

### ファイル構造

```markdown
---
title: 記事のタイトル
category: カテゴリ
tags: [tag1, tag2]
wip: false
---

記事の本文...
```

## 使用例

### 基本的な使用方法

```bash
# 記事を更新
esa-cli update 123-article-title.md

# 更新メッセージを指定
esa-cli update 123-article-title.md -message "タイトルを更新"
```

### WIPの管理

```bash
# 記事をWIPとして更新
esa-cli update 123-article-title.md -wip true

# WIPを解除
esa-cli update 123-article-title.md -wip false
```

### 一括更新

```bash
# 特定のカテゴリの記事を一括更新
for file in *-*.md; do
  if grep -q "category: 開発/ドキュメント" "$file"; then
    esa-cli update "$file" -message "カテゴリを更新"
  fi
done
```

## リモート変更チェック機能

`update`コマンドは、ローカルで編集を開始した後にリモート記事が更新された場合、上書き前に警告を表示します。

### 動作例

```bash
esa-cli update 123-article-title.md
```

**リモート記事が更新されている場合：**
```
⚠️  警告: リモートの記事はローカルで編集を始めてから更新されています。
  リモート: 2025-06-22 14:01:45
  ローカル: 2025-06-21 09:32:41
このまま上書きしますか？ (y/N):
```

### 確認オプション

- `y` または `Y`: リモート記事を上書きして更新を実行
- `N` または `Enter`: 更新をキャンセル
- その他の入力: 更新をキャンセル

### チーム作業での活用

この機能により、複数人で同じ記事を編集する際の競合を防ぐことができます：

1. **安全な更新**: 他の人が更新した内容を誤って上書きすることを防げます
2. **変更の確認**: リモートの変更内容を確認してから更新を決定できます
3. **競合の回避**: チーム内での編集競合を最小限に抑えられます

## 注意事項

- ファイル名は `fetch` コマンドでダウンロードした形式を維持する必要があります
- 記事番号はファイル名から自動的に抽出されます
- メタデータ（タイトル、カテゴリ、タグ）はYAMLフロントマターから読み取られます
- 更新メッセージは変更履歴に表示され、後から参照できます 